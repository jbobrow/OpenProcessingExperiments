
PImage img;
int x=0;
float ang;

char[][] font = {
  {0x57,0x55,0x55,0x07}, //0
  {0x22,0x22,0x22,0x02}, //1
  {0x47,0x74,0x11,0x07}, //2
  {0x47,0x74,0x44,0x07}, //3
  {0x55,0x75,0x44,0x04}, //4
  {0x17,0x71,0x44,0x07}, //5
  {0x17,0x71,0x55,0x07}, //6
  {0x47,0x44,0x44,0x04}, //7
  {0x57,0x75,0x55,0x07}, //8
  {0x57,0x75,0x44,0x04}, //9
  {0x57,0x75,0x55,0x05}, //a
  {0x57,0x75,0x55,0x07}, //b
  {0x17,0x11,0x11,0x07}, //c
  {0x53,0x55,0x55,0x03}, //d
  {0x17,0x71,0x11,0x07}, //e
  {0x17,0x71,0x11,0x01}, //f
  {0x77,0x77,0x77,0x07}, //$
  {0x00,0x00,0x00,0x00}, //' '
  {0x20,0x27,0x00,0x00}, //+
  {0x00,0x07,0x00,0x00}, //-
  {0x00,0x07,0x07,0x00}, //=
  {0x00,0x24,0x21,0x04}, //<
  {0x00,0x21,0x24,0x01}, //>
  {0x00,0x02,0x02,0x00}, //:
  {0x00,0x77,0x77,0x00}, //:
  {0x00,0x00,0x00,0x07}, //_
  {0x52,0x24,0x02,0x02}, //?
  {0x22,0x22,0x02,0x02}, //!
  {0x52,0x00,0x00,0x00}, //^
};

void setup() {
  size(199,264);
  background(0);
  frameRate(20);
}
void draw() {
  fill(0,10*(sin(ang)+1));
  ang = ang+0.01;
  noStroke();
  rect(0,0,width,height);
  //scale(1,1);


  for( int x=0; x<49; x++ ) {
    for( int y=0; y<33; y++ ) {
      if( random(1) > 0.9 ) {
        int idx = floor(random(font.length));
        putText(2+4*x,y*8,font[idx]);
      }
    }
  }


/*
  int idx = floor(random(font.length));
  putText(2+4*(x%49),(x/49)*8,font[idx]);
  x++;
  if( x > 49*33 ) x = 0;
*/
  //if( x>font.length-1 ) x = 0;  

/*
  for( int i=0; i<font.length; i++ ) {
    putText(2+4*i,0,font[i]);
  }
*/

    
  windows();
}

void putText( int cx, int cy, char[] c ) {
  for( int j=0; j<c.length; j++) {
    for( int i=0; i<8;  ) {
      if( (c[j]>>i & 0x01) == 0x01 ) {
        stroke(0,255,0);
      } else {
        stroke(0);
      }
      point(cx+i%4,cy);
      i++;
      if( i==4 ) cy=cy+1;
    }
    cy = cy + 1;
  }
}

void windows() {
  stroke(0);
  strokeWeight(1);
  for( int x=1; x<width; x=x+4 ) {
    line(x,0,x,height);
  }
}

